{"version":3,"sources":["../components/SelectInput.js","../components/MultiSelectInput.js","../components/Error.js","index.js"],"names":["SelectInput","onSubmit","onBlur","onChange","onFocus","props","React","useEffect","value","v","concat","filter","item","Error","children","npmCache","checkPackage","name","undefined","then","response","json","code","fields","label","validate","check","exists","format","toLowerCase","replace","placeholder","Input","TextInput","semver","valid","inputConfig","items","MultiSelectInput","values","split","CliForm","searchValue","setSearchValue","useState","toList","x","indexOf","map"],"mappings":"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","file":"index.js","sourceRoot":"../../commands","sourcesContent":["import React from 'react'\nimport InkSelectInput from 'ink-select-input'\n\nexport default function SelectInput({\n\tonSubmit,\n\tonBlur,\n\tonChange,\n\tonFocus,\n\t...props\n}) {\n\tReact.useEffect(() => {\n\t\tonFocus()\n\t\treturn onBlur\n\t}, [onFocus, onBlur])\n\treturn (\n\t\t<InkSelectInput\n\t\t\t{...props}\n\t\t\tonSelect={({ value }) => {\n\t\t\t\tonChange(value)\n\t\t\t\tonSubmit()\n\t\t\t}}\n\t\t/>\n\t)\n}\n","import React from 'react'\nimport InkMultiSelect from 'ink-multi-select'\n\nexport default function SelectInput({\n\tonBlur,\n\tonChange,\n\tonFocus,\n\tvalue = [],\n\t...props\n}) {\n\tReact.useEffect(() => {\n\t\tonFocus()\n\t\treturn onBlur\n\t}, [onFocus, onBlur])\n\treturn (\n\t\t<InkMultiSelect\n\t\t\t{...props}\n\t\t\tonSelect={({ value: v }) => onChange(value.concat(v))}\n\t\t\tonUnselect={({ value: v }) => onChange(value.filter(item => item !== v))}\n\t\t/>\n\t)\n}\n","import React from 'react'\nimport { Box, Color } from 'ink'\n\nexport default function Error({ children }) {\n\treturn (\n\t\t<Box>\n\t\t\t<Color red>{children}</Color>\n\t\t</Box>\n\t)\n}\n","import React from 'react'\nimport { Form, Field } from 'react-final-form'\nimport { AppContext, Box, Color, Text } from 'ink'\nimport TextInput from \"ink-text-input\";\nimport SelectInput from '../components/SelectInput'\nimport MultiSelectInput from '../components/MultiSelectInput'\nimport Error from '../components/Error'\nimport semver from 'semver'\nimport fetch from 'node-fetch'\nimport Spinner from 'ink-spinner'\n\nconst npmCache = {}\nconst checkPackage = name => {\n\tif (npmCache[name] === undefined) {\n\t\treturn fetch(`https://api.npms.io/v2/package/${name}`)\n\t\t\t.then(response => response.json())\n\t\t\t.then(json => {\n\t\t\t\tnpmCache[name] = json.code !== 'NOT_FOUND'\n\t\t\t\treturn npmCache[name]\n\t\t\t})\n\t}\n\treturn npmCache[name]\n}\n\nconst fields = [\n\t{\n\t\tname: 'name',\n\t\tlabel: 'Project Name',\n\t\tvalidate: value => {\n\t\t\tif (!value) {\n\t\t\t\treturn 'Required'\n\t\t\t}\n\t\t\tconst check = checkPackage(value)\n\t\t\tif (check && check.then) {\n\t\t\t\treturn check.then(exists =>\n\t\t\t\t\texists ? 'Package exists already!' : undefined\n\t\t\t\t)\n\t\t\t}\n\t\t},\n\t\tformat: value =>\n\t\t\tvalue\n\t\t\t\t? value\n\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t.replace(/[^a-z \\\\-]/g, '')\n\t\t\t\t\t.replace(/ /g, '-')\n\t\t\t\t: '',\n\t\tplaceholder: 'my-awesome-project',\n\t\tInput: TextInput\n\t},\n\t{\n\t\tname: 'version',\n\t\tlabel: 'Version',\n\t\tplaceholder: '1.0.0',\n\t\tformat: value => (value === undefined ? '' : value.replace(/[^0-9.]/g, '')),\n\t\tvalidate: value =>\n\t\t\t!value\n\t\t\t\t? 'Required'\n\t\t\t\t: semver.valid(value)\n\t\t\t\t\t? undefined\n\t\t\t\t\t: 'Invalid semantic version',\n\t\tInput: TextInput\n\t},\n\t{\n\t\tname: 'language',\n\t\tlabel: 'Language',\n\t\tInput: SelectInput,\n\t\tinputConfig: {\n\t\t\titems: [\n\t\t\t\t{ label: 'Javascript', value: 'javascript' },\n\t\t\t\t{ label: 'Typescript', value: 'typescript' }\n\t\t\t]\n\t\t}\n\t},\n\t{\n\t\tname: 'technologies',\n\t\tlabel: 'Technologies',\n\t\tInput: MultiSelectInput,\n\t\tformat: null, // prevents empty value from being ''\n\t\tinputConfig: {\n\t\t\titems: [\n\t\t\t\t{ label: '⚛️ React', value: 'react' },\n\t\t\t\t{ label: 'Angular', value: 'angular' },\n\t\t\t\t{ label: 'Redux', value: 'redux' },\n\t\t\t\t{ label: 'GraphQL', value: 'graphql' },\n\t\t\t\t{ label: '🏁 React-Final-Form', value: 'react-final-form' },\n\t\t\t\t{ label: '💅 Styled Components', value: 'styled-components' },\n\t\t\t\t{ label: '👨‍🎤 Emotion', value: 'emotion' },\n\t\t\t\t{ label: '🌈‍ Ink', value: 'ink' }\n\t\t\t]\n\t\t}\n\t}\n]\n\nconst values = \"db0,cache1,html,web0,web1,web3,cache0,dbright,tsmith,builduser,dwilson\".split(\",\");\n\n\n/// CliForm\nexport default function CliForm() {\n\tconst [searchValue, setSearchValue] = React.useState(\"\");\n\tconst toList = values.filter(x => x.indexOf(searchValue) > -1).map(x => {\n\t\treturn <Box key={x}>{x}</Box>;\n\t})\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<Box>\n\t\t\t\tInput: <TextInput value={searchValue} onChange={setSearchValue} />\n\t\t\t</Box>\n\t\t\t<Box>\n\t\t\t\t{toList}\n\t\t\t</Box>\n\t\t</React.Fragment>\n\t)\n}\n"]}